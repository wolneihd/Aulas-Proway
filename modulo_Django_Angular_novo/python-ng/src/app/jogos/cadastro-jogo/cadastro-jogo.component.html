<app-navbar></app-navbar>

<div class="mt-3">
    <p-panel header="Cadastro de Jogo">
        <div class="card flex flex-column gap-3">
            <div class="flex gap-7">
                <div class="flex flex-column gap-2">
                    <label for="nome">Nome</label>
                    <input pInputText id="nome" aria-describedby="nome-help" [(ngModel)]="jogoForm.nome" />
                </div>
                <div class="flex flex-column gap-2">
                    <div class="flex flex-column gap-2">
                        <label for="preco">Preço</label>
                        <p-inputNumber 
                            [(ngModel)]="jogoForm.preco" 
                            inputId="preco"  
                            mode="currency" 
                            currency="BRL" 
                            locale="pt-BR"
                            [minFractionDigits]="2" 
                            [maxFractionDigits]="2" /> 
                    </div>
                </div>
                <div class="flex flex-column gap-2">
                    <label for="desenvolvedora">Desenvolvedora</label>
                    <p-dropdown 
                        [options]="desenvolvedoras" 
                        [(ngModel)]="jogoForm.desenvolvedora"
                        optionLabel="nome"
                        optionValue="nome"
                        placeholder="Escolha a desenvolvedora" />
                </div>
            </div>
            <div class="flex gap-7">
                <div class="flex flex-column gap-2">
                    <label for="dataLancamento">Data de Lançamento</label>
                    <p-calendar id="dataLancamento" [(ngModel)]="jogoForm.dataLancamento"
                        dateFormat="dd/mm/yy"  />
                </div>
                <div class="flex flex-column gap-2">
                    <label for="classificacao">Classificação Metacritic</label>
                    <p-rating id="classificacao" [(ngModel)]="jogoForm.classificacao" [cancel]="false" />
                </div>
                <div class="flex flex-column gap-2">
                    <label for="tags">Tags</label>
                    <p-chips id="tags" [(ngModel)]="jogoForm.tags" />
                </div>
            </div>
            <div class="flex gap-7">
                <div class="flex flex-column gap-2">
                    <label for="categoria">Categoria</label>
                    <p-dropdown 
                        [options]="categorias" 
                        [(ngModel)]="jogoForm.categoria"
                        optionLabel="nome"
                        optionValue="id"
                        placeholder="Escolha a categoria" />
                </div>
                <div class="flex flex-column gap-2">
                    <span>Plataforma</span>
                    <div class="flex flex-row gap-2" *ngFor="let plataformaDado of this.plataformas">
                        <p-checkbox 
                            [(ngModel)]="jogoForm.plataforma" 
                            label="{{plataformaDado.nome}}"
                            value="{{plataformaDado.nome}}" 
                            inputId="plataforma-{{plataformaDado.nome}}" />
                    </div>
                </div>
                <div class="flex flex-column gap-2">
                    <span>Disponível para venda</span>
                    <div class="flex flex-wrap gap-3">
                        <div class="flex align-items-center">
                            <p-radioButton 
                                value="true" 
                                [(ngModel)]="jogoForm.disponivelVenda" 
                                inputId="disponivelVendaSim" />
                            <label for="disponivelVendaSim" class="ml-2">
                                Sim
                            </label>
                        </div>
                        
                        <div class="flex align-items-center">
                            <p-radioButton 
                                value="false" 
                                [(ngModel)]="jogoForm.disponivelVenda" 
                                inputId="disponivelVendaNao" />
                            <label for="disponivelVendaNao" class="ml-2">
                                Não
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex gap-7">
                <div class="flex flex-column gap-2">
                    <p-fileUpload 
                        mode="basic" 
                        chooseLabel="Escolha a imagem" 
                        chooseIcon="pi pi-upload"
                        name="imagem" 
                        accept="image/*" 
                        auto="true"
                        maxFileSize="1000000"
                        url="https://www.primefaces.org/cdn/api/upload.php"
                        (onUpload)="armazenarFoto($event)" />
                </div>
            </div>
            <div class="flex gap-7">
                <div class="flex flex-column gap-2">
                    <label for="descricao">Descrição</label>
                    <textarea 
                        rows="5"
                        cols="30" 
                        pInputTextarea 
                        id="descricao"
                        [(ngModel)]="jogoForm.descricao">
                    </textarea>
                </div>
            </div>

            <div class="flex justify-content-end flex-wrap mb-3">
                <p-button label="Salvar" severity="success" (onClick)="salvar()"/>
            </div>
        </div>
    </p-panel>
</div>